# ğŸš€ MLP HPL v3 - Reference Document

**MLP** = Multi-Language Programming  
**HPL** = Human Pattern Language  
**Version:** 3.0 (Development)

**Date:** 2025-10-29  
**Status:** ğŸŸ¡ In Development

---

## ğŸ“‹ **TABLE OF CONTENTS**

1. [Core Philosophy](#core-philosophy)
2. [Character Classes](#character-classes)
3. [Quantifiers](#quantifiers)
4. [Literals](#literals)
5. [Alternation](#alternation)
6. [Scope](#scope)
7. [Block Selector](#block-selector)
8. [Positional](#positional)
9. [Lookahead/Lookbehind](#lookaheadlookbehind)
10. [Parameters](#parameters)
11. [Negation](#negation)
12. [Special Formats](#special-formats)
13. [Escape Characters](#escape-characters)
14. [Examples](#examples)
15. [Implementation Notes](#implementation-notes)

---

## ğŸ¯ **CORE PHILOSOPHY**

### **Design Principles:**

1. âœ… **Human-Readable** - Patterns should be readable like natural language
2. âœ… **No Backtracking** - Deterministic matching (fast & safe)
3. âœ… **Multi-Language** - Support for language-specific patterns (Turkish: sesli/sessiz)
4. âœ… **Predictable** - Same pattern = same result (always)
5. âœ… **Safe** - No ReDoS vulnerability

### **vs Classic Regex:**

| Feature | Classic Regex | MLP HPL v3 |
|---------|--------------|------------|
| Syntax | `[a-z]{3}\d{2}` | `l3r2` |
| Readability | â­â­ | â­â­â­â­â­ |
| Performance | â­â­ (backtracking) | â­â­â­â­â­ (deterministic) |
| Security | âŒ ReDoS risk | âœ… Safe |
| Learning Curve | ğŸ”´ Hard | ğŸŸ¢ Easy |

---

## ğŸ”¤ **CHARACTER CLASSES**

### **Basic Classes:**

| Symbol | Name | Description | Example |
|--------|------|-------------|---------|
| `l` | lowercase | KÃ¼Ã§Ã¼k harf (a-z, Ã§ÄŸÄ±Ã¶ÅŸÃ¼) | `l3` = 3 kÃ¼Ã§Ã¼k harf |
| `L` | uppercase | BÃ¼yÃ¼k harf (A-Z, Ã‡ÄÄ°Ã–ÅÃœ) | `L2` = 2 bÃ¼yÃ¼k harf |
| `r` | digit | Rakam (0-9) | `r4` = 4 rakam |
| `h` | letter | Harf (bÃ¼yÃ¼k/kÃ¼Ã§Ã¼k) | `h5` = 5 harf |
| `v` | vowel | Sesli harf (a,e,i,o,u,Ã¶,Ã¼) | `v2` = 2 sesli |
| `s` | consonant | Sessiz harf | `s3` = 3 sessiz |
| `x` | symbol | Sembol (!@#$%^&*) | `x1` = 1 sembol |
| `?` | wildcard | Herhangi bir karakter | `?3` = 3 herhangi |
| `a` | unlimited | SÄ±nÄ±rsÄ±z (any length) | `a` = tÃ¼mÃ¼ |
| `b` | single | Tek karakter | `b` = 1 karakter |

### **Examples:**

```
l3      â†’ "abc"     âœ…
L2      â†’ "AB"      âœ…
r4      â†’ "1234"    âœ…
h6      â†’ "AbCdEf"  âœ…
v2s2    â†’ "abcd"    âœ… (a=sesli, b=sessiz, c=sessiz, d=sessiz... HATA!)
vsv     â†’ "aba"     âœ… (a=sesli, b=sessiz, a=sesli)
```

---

## ğŸ”¢ **QUANTIFIERS**

### **Syntax:**

| Format | Description | Example |
|--------|-------------|---------|
| `l3` | Exactly 3 | `l3` = tam 3 kÃ¼Ã§Ã¼k harf |
| `l(2-4)` | Range (2 to 4) | `l(2-4)` = 2-4 arasÄ± |
| `l(>3)` | Min 3 | `l(>3)` = en az 3 |
| `l(<5)` | Max 5 | `l(<5)` = en fazla 5 |
| `a` | Unlimited | `a` = sÄ±nÄ±rsÄ±z |

### **Greedy vs Lazy:**

**Default: Greedy** (en uzununu al)

```
l(2-4)  + "abcde"  â†’  "abcd" (4 karakter alÄ±r)
```

**Lazy mode:** Scope ile kontrol edilir

```
w:l(2-4)  â†’  word scope (kelime sÄ±nÄ±rÄ±nda dur)
```

### **Examples:**

```
l(2-4)      â†’ "abc"     âœ… (3 karakter)
l(2-4)      â†’ "ab"      âœ… (2 karakter, minimum)
l(2-4)      â†’ "abcde"   âœ… "abcd" (4 karakter, maksimum)
r(3-6)      â†’ "12345"   âœ… (5 rakam)
```

---

## ğŸ“ **LITERALS**

### **Syntax:**

```
'text'      â†’ Exact text
"text"      â†’ NOT SUPPORTED (use single quotes)
```

### **Behavior:**

```
'hello'     â†’ Exact "hello" (baÅŸka ÅŸey yok)
a'hello'    â†’ Ends with "hello"
'hello'a    â†’ Starts with "hello"
a'hello'a   â†’ Contains "hello"
```

### **Escaping:**

```
'it\'s'     â†’ Literal "it's" (escape single quote)
'"test"'    â†’ Literal "test" with double quotes
```

### **Examples:**

```
'hello'             â†’ "hello"        âœ…
'hello'             â†’ "Hello"        âŒ (case-sensitive)
'test'r2            â†’ "test99"       âœ…
l3'@'l3             â†’ "abc@xyz"      âœ…
a'end'              â†’ "start...end"  âœ…
```

---

## ğŸ”€ **ALTERNATION**

### **Syntax:**

```
(option1|option2|option3)
```

### **Longest Match:**

Always matches the longest option first (no backtracking)

```
(cat|catch)  +  "catch"  â†’  "catch" (not "cat")
```

### **Optional:**

```
(x|)    â†’ x is optional (empty alternative)
```

### **Examples:**

```
(cat|dog)           â†’ "cat"     âœ…
(cat|dog)           â†’ "dog"     âœ…
l3(r|v)             â†’ "abc1"    âœ… (1=rakam)
l3(r|v)             â†’ "abca"    âœ… (a=sesli)
(com|net|org)       â†’ "com"     âœ…
(test|testing)      â†’ "testing" âœ… (longest)
```

---

## ğŸ¯ **SCOPE**

### **Syntax:**

```
w:pattern   â†’ Word scope
l:pattern   â†’ Line scope
d:pattern   â†’ Document scope
b:pattern   â†’ Block scope (custom)
```

### **Word Scope (w:):**

Matches within word boundaries

```
w:l3r2  +  "hello abc12 world"  â†’  "abc12"
```

### **Line Scope (l:):**

Matches within line boundaries (stops at \n)

```
l:a'end'  +  "start end\nnext"  â†’  "start end"
```

### **Document Scope (d:):**

Matches entire document

```
d:a'end'  +  "start\nmiddle\nend"  â†’  entire text
```

### **Examples:**

```
w:'test'        â†’ Exact word "test"
l:a'end'        â†’ Line ending with "end"
d:a'keyword'a   â†’ Document containing "keyword"
```

---

## ğŸ§± **BLOCK SELECTOR** â­ NEW!

### **Syntax:**

```
b(start, end):pattern
b(start, end(n)):pattern    â†’ Select nth occurrence
```

### **Basic Usage:**

```
b('<div>', '</div>'):a
```

Selects content between `<div>` and `</div>`

### **â­ NEW: Occurrence Selector**

```
b('<div>', '</div>(3)'):a
```

**Behavior:**
- Starts at `<div>`
- Stops at the **3rd** occurrence of `</div>`
- Useful for nested blocks!

### **Examples:**

```html
<!-- HTML: -->
<div>
    <div>inner1</div>
    <div>inner2</div>
    <div>inner3</div>
</div>

<!-- Pattern: -->
b('<div>', '</div>(1)'):a
â†’ Selects: <div> ... </div>  (first closing tag only: "inner1")

b('<div>', '</div>(3)'):a
â†’ Selects: <div> ... </div>  (third closing tag: includes inner1, inner2, inner3)

b('<div>', '</div>'):a
â†’ Selects: entire block (default: greedy, last closing tag)
```

### **Use Cases:**

```
<!-- XML/HTML parsing -->
b('<article>', '</article>'):a
b('<p>', '</p>(1)'):a          â†’ First paragraph only

<!-- Code blocks -->
b('function', 'end'):a
b('{', '}(1)'):a               â†’ First block only

<!-- Nested structures -->
b('(', ')(2)'):a               â†’ Up to 2nd closing paren
```

### **Implementation Notes:**

- Default (no number): Greedy, match to last occurrence
- `(n)`: Match to nth occurrence
- Counter resets for each new start tag
- Useful for nested/recursive structures

---

## ğŸ“ **POSITIONAL**

### **Syntax:**

```
<<pattern   â†’ Start of scope
pattern>>   â†’ End of scope
><pattern   â†’ Middle of scope
```

### **Examples:**

```
<<l3        â†’ Starts with 3 lowercase
r2>>        â†’ Ends with 2 digits
><'test'    â†’ Contains "test" (not at edges)
```

### **With Scope:**

```
w:<<L       â†’ Word starts with uppercase
l:r2>>      â†’ Line ends with 2 digits
```

---

## ğŸ‘€ **LOOKAHEAD/LOOKBEHIND**

### **Syntax:**

```
@>pattern   â†’ Lookahead (next is pattern)
@<pattern   â†’ Lookbehind (previous is pattern)
!@>pattern  â†’ Negative lookahead
!@<pattern  â†’ Negative lookbehind
```

### **Behavior:**

**Lookahead/lookbehind does NOT consume characters!**

```
l3@>r       â†’ 3 lowercase + next is digit (digit NOT captured)
```

### **Examples:**

```
l3@>r               â†’ "abc1"  â†’  Matches "abc" (1 not included)
r@<l3               â†’ "abc1"  â†’  Matches "1" (abc not included)
'test'!@>r          â†’ "testx" â†’  Matches "test" (next NOT digit)
l3@>r2              â†’ "abc12" â†’  Matches "abc"
```

### **Use Cases:**

```
<!-- Password validation: must have digit after letters -->
l(5-10)@>r

<!-- Email: ensure @ follows -->
l(3-10)@>'@'

<!-- Avoid certain patterns -->
'keyword'!@>'bad'
```

---

## ğŸ·ï¸ **PARAMETERS**

### **Syntax:**

```
[name]          â†’ Define parameter
[name=default]  â†’ With default value
[1], [2]        â†’ Reference by index
```

### **Usage:**

```
[domain]'.'(com|net|org)
```

### **Examples:**

```
[user]'@'[domain]'.com'
â†’ Captures: user and domain

'http'[1]'.com'
â†’ Reference first capture
```

### **Status:** â³ Not implemented yet

---

## â›” **NEGATION**

### **Syntax:**

```
(-pattern)      â†’ NOT pattern
(-'text')       â†’ NOT exact text
```

### **Examples:**

```
(-'cat')a       â†’ Any text except "cat"
(-r)3           â†’ 3 non-digits
```

### **Status:** â³ Not implemented yet

---

## ğŸ”§ **SPECIAL FORMATS**

### **Syntax:**

```
bin     â†’ Binary (0,1)
hex     â†’ Hexadecimal (0-9,a-f,A-F)
asc     â†’ ASCII (0-127)
```

### **Examples:**

```
bin8        â†’ "10110101" (8-bit binary)
hex6        â†’ "ff5733" (hex color)
asc10       â†’ ASCII text (10 chars)
```

### **Status:** â³ Not implemented yet

---

## ğŸ”¤ **ESCAPE CHARACTERS**

### **Syntax:**

```
\n      â†’ Newline
\t      â†’ Tab
\r      â†’ Carriage return
\s      â†’ Space
```

### **Examples:**

```
l3\nr2          â†’ "abc\n12"
'hello'\t'world' â†’ "hello\tworld"
```

### **Status:** â³ Partially implemented

---

## ğŸ“š **EXAMPLES**

### **Email Validation:**

```
l(3-10)'@'l(3-10)'.'(com|net|org)

test@example.com    âœ…
ab@ex.com           âŒ (too short)
test@site.co.uk     âŒ (.uk not in list)
```

### **Phone Number (TR):**

```
'0'r10

05551234567     âœ…
5551234567      âŒ (no leading 0)
055512345       âŒ (too short)
```

### **Password Strength:**

```
L(1-2)l(5-8)r(2-3)

Abcdefg123      âœ… (1 upper, 7 lower, 3 digits)
abcdefg123      âŒ (no uppercase)
ABC123          âŒ (not enough lowercase)
```

### **Hex Color:**

```
'#'h6

#ff5733     âœ…
#FF5733     âœ…
#zz5733     âŒ (z not hex)
ff5733      âŒ (no #)
```

### **Date (DD.MM.YYYY):**

```
r2'.'r2'.'r4

29.10.2025      âœ…
9.10.2025       âŒ (missing zero)
29-10-2025      âŒ (wrong separator)
```

### **HTML Block:**

```
b('<div>', '</div>'):a

<div>content</div>              âœ…
<div><div>nested</div></div>    âœ… (greedy: entire block)
```

### **HTML Block (First Inner):**

```
b('<div>', '</div>(1)'):a

<div><span>test</span></div>    âœ… (stops at first </div>)
<div><div>a</div><div>b</div>   âœ… (stops at first: "a")
```

### **URL Protocol:**

```
(http|https)'://'a

http://example.com      âœ…
https://secure.com      âœ…
ftp://files.com         âŒ
```

---

## ğŸ› ï¸ **IMPLEMENTATION NOTES**

### **Parser Architecture:**

```
Input Pattern
     â†“
[Lexer] â†’ Tokens
     â†“
[Parser] â†’ AST
     â†“
[Matcher] â†’ Results
```

### **Current Status:**

| Feature | Status | Notes |
|---------|--------|-------|
| Lexer | âœ… Complete | Tokenization working |
| Parser | âœ… Complete | AST generation working |
| Matcher (Basic) | âœ… Complete | Char classes, literals, alternation |
| Matcher (Scope) | ğŸŸ¡ Partial | Word scope working |
| Matcher (Block) | ğŸŸ¡ Enhanced | Occurrence selector added â­ |
| Lookahead/behind | â³ Planned | Design complete |
| Parameters | â³ Planned | Syntax defined |
| Negation | â³ Planned | Syntax defined |
| Special Formats | â³ Planned | Binary, hex, ascii |

### **Performance:**

- âœ… O(n) time complexity (linear)
- âœ… No backtracking (deterministic)
- âœ… No ReDoS vulnerability
- âœ… Predictable behavior

### **Security:**

- âœ… No infinite loops
- âœ… No catastrophic backtracking
- âœ… Input validation
- âœ… Safe for user input

---

## ğŸ“ **CHANGELOG**

### **v3.0 (2025-10-29)**

**Added:**
- â­ Block selector with occurrence counter: `b(start, end(n))`
- âœ… Basic character classes (l, L, r, h, v, s, x, ?, a, b)
- âœ… Quantifiers with ranges: `l(2-4)`
- âœ… Literals: `'text'`
- âœ… Alternation: `(a|b)`
- âœ… Scope: `w:`, `l:`, `d:`
- âœ… Sequence: `l3r2`

**Changed:**
- Block selector now supports occurrence counting
- Improved greedy matching in alternations

**Planned:**
- Lookahead/lookbehind
- Parameters
- Negation
- Special formats (bin, hex, asc)
- Unicode support

---

## ğŸ¤ **CONTRIBUTING**

This is a living document. Suggestions welcome!

**Format for suggestions:**

```
## Suggestion: [Feature Name]

**Syntax:**
[proposed syntax]

**Use Case:**
[why this is useful]

**Example:**
[code example]
```

---

## ğŸ“„ **LICENSE**

MLP HPL v3 - Multi-Language Programming Human Pattern Language  
Â© 2025 TYD Project

---

**Last Updated:** 2025-10-29  
**Document Version:** 1.0  
**Status:** ğŸŸ¡ In Development